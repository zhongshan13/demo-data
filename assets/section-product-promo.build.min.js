!function(){"use strict";const e={section:".js-product-promo",buttonQuickView:".js-product-promo-quick-view-button",buttonClose:".js-product-promo-quick-view-button-close"};var t=()=>{const t=window.themeCore.utils.setCookie,o=window.themeCore.utils.getCookie,i=window.themeCore.utils.cssClasses,r=6e3;let n,c,d,a;function s(){!function(){if(!n.hasAttribute("data-cookie-time"))return;let e=n.dataset.cookieTime;t("product_promo","1",{"max-age":24*e*60*60})}(),n.remove()}function u(){o("product_promo")||n.classList.remove(i.hidden)}return Object.freeze({init:function(){if(!(n=document.querySelector(e.section)))return!1;c=n.dataset.handle,d=n.dataset.variantId,a=n.dataset.variantCount,setTimeout(u,r),n.addEventListener("click",t=>{if(t.target.closest(e.buttonQuickView))return a>1?window.themeCore.EventBus.emit("product-card:quick-view:clicked",{productHandle:c,variant:d,showDescription:!0}):async function(){try{await window.themeCore.CartApi.makeRequest(window.themeCore.CartApi.actions.ADD_TO_CART,{id:d,quantity:1}),await window.themeCore.CartApi.makeRequest(window.themeCore.CartApi.actions.GET_CART)}catch(e){!function(e){const t=window.themeCore.CartNotificationError;t.addNotification(e.description),t.open()}(e)}}(),void s();t.target.closest(e.buttonClose)&&s()})}})};const o=()=>{window.themeCore.ProductPromo=window.themeCore.ProductPromo||t(),window.themeCore.utils.register(window.themeCore.ProductPromo,"product-promo")};window.themeCore&&window.themeCore.loaded?o():document.addEventListener("theme:all:loaded",o,{once:!0})}();