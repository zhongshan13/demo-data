!function(){"use strict";var e=()=>{let e;const n=window.themeCore.utils.cssClasses,t={section:".js-announcement-bar",announcementBarCloser:".js-bar-closer",timer:".js-timer",slider:".js-announcement-bar-slider"},o=window.themeCore.utils.Swiper;let r=null,s=null,i=null;function a(e){e.target.closest(t.announcementBarCloser)&&(sessionStorage.setItem("showAnnouncementBar",!1),r.classList.add(n.hidden),window.themeCore.EventBus.emit("announcement-bar:changed",{}))}return Object.freeze({init:async function(){e=window.themeCore.utils.Timer,r=document.querySelector(t.section),s=r.querySelectorAll(t.timer),i=r.querySelector(t.slider),null===JSON.parse(sessionStorage.getItem("showAnnouncementBar"))&&(r.classList.remove(n.hidden),r.addEventListener("click",a),window.themeCore.EventBus.emit("announcement-bar:changed",{}),async function(e){if(!e)return;const n=await window.themeCore.utils.getExternalUtil("swiperAutoplay");o.use([n]);const t=e.getAttribute("data-autoplay-speed"),r="true"===e.getAttribute("data-autoplay");new o(e,{slidesPerView:1,arrows:!1,loop:!0,autoplay:!!r&&{delay:t,disableOnInteraction:!1,pauseOnMouseEnter:!0}})}(i),setTimeout(()=>{(s=r.querySelectorAll(t.timer)).forEach(function(n){e(n).init()})},0))}})};const n=()=>{window.themeCore.AnnouncementBar=window.themeCore.AnnouncementBar||e(),window.themeCore.utils.register(window.themeCore.AnnouncementBar,"announcement-bar")};window.themeCore&&window.themeCore.loaded?n():document.addEventListener("theme:all:loaded",n,{once:!0})}();