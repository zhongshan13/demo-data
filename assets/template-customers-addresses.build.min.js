!function(){"use strict";const e={addressContainer:".js-addresses-container",newAddressForm:".js-addresses-new-form",editAddressesForm:".js-addresses-edit-form",addressCountryOptions:".js-address-country-option",addressDelete:".js-address-delete",addressesNewToggle:".js-address-new-toggle",addressesResetToggle:".js-address-reset-toggle",editAddressForm:"#EditAddress_",addressesCountrySelect:"#AddressCountryNew",addressesProvinceContainer:"#AddressProvinceContainerNew",addressesEditToggle:".js-address-edit-toggle"},s=[];let t;var d=()=>{return Object.freeze({init:function(){t=window.themeCore.utils.cssClasses;const d=document.querySelector(e.addressContainer);!function(){window.Shopify&&new window.Shopify.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"}),[...document.querySelectorAll(e.addressCountryOptions)].forEach(e=>{let s=e.dataset.formId,t="AddressCountry_"+s,d="AddressProvince_"+s,r="AddressProvinceContainer_"+s;new window.Shopify.CountryProvinceSelector(t,d,{hideElement:r})});const s=document.querySelector(e.addressesCountrySelect);s&&s.addEventListener("change",()=>{const s=document.querySelector(e.addressesProvinceContainer);"none"!==s.style.display&&(s.style.display="flex")})}(),document.querySelectorAll(e.editAddressesForm).forEach(e=>{let t=[];[...e.elements].forEach(e=>{e.name&&("checkbox"===e.type?t[e.name]=e.checked:t[e.name]=e.value)}),s.push({id:e.id,data:t})}),function(s){s.addEventListener("click",d=>{const r=d.target.closest(e.addressesNewToggle);if(!r)return;let o=s.querySelector(e.newAddressForm);o&&o.classList.toggle(t.hidden)})}(d),function(d){d.addEventListener("click",r=>{const o=r.target.closest(e.addressesEditToggle);if(!o)return;let n=e.editAddressForm+r.target.dataset.formId;if(!n)return;const i=d.querySelector(n);i.classList.toggle(t.hidden);const a=r.target.closest(e.addressesResetToggle);a&&function(t){const d=t.target.closest(e.editAddressesForm);if(!d)return;const r=s.find(e=>d.id===e.id);let o;if(r&&(o=r.data),!o)return;const n=d.querySelector(e.addressCountryOptions);n.value=o[n.name],n.dispatchEvent(new Event("change")),Object.keys(o).forEach(e=>{const s=d.elements[e];"checkbox"===s.type?s.checked=o[e]:s.value=o[e]})}(r)})}(d),function(s){s.addEventListener("click",s=>{const t=s.target.closest(e.addressDelete);if(!t)return;const d=t.dataset.formId,r=t.dataset.confirmMessage;confirm(r||"Are you sure you wish to delete this address?")&&window.Shopify.postLink("/account/addresses/"+d,{parameters:{_method:"delete"}})})}(d)}})};const r=()=>{window.themeCore.CustomersAddressesTemplate=window.themeCore.CustomersAddressesTemplate||d(),window.themeCore.utils.register(window.themeCore.CustomersAddressesTemplate,"addresses-template")};window.themeCore&&window.themeCore.loaded?r():document.addEventListener("theme:all:loaded",r,{once:!0})}();