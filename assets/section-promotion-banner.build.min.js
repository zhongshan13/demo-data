!function(){"use strict";const o={promoBanner:".js-promotion-banner",promoBannerCloseButton:".js-promotion-banner-close-button",productsPopup:"promotion-products-popup",productsPopupToggle:"promotion-products-popup-toggle",cartNotification:".js-cart-notification",main:"#MainContent"};var e=()=>{const e=window.themeCore.utils.setCookie,t=window.themeCore.utils.getCookie,n=window.themeCore.utils.cssClasses,r=3e3,i=window.themeCore.utils.Toggle;let c,s;function u(){t("promo_banner")||c.classList.add(n.active)}return Object.freeze({init:function(){if(c=document.querySelector(o.promoBanner),s=document.getElementById("promotion-products-popup"),!c)return!1;setTimeout(u,r),c.querySelector(o.promoBannerCloseButton).addEventListener("click",()=>{(function(){if(!c.hasAttribute("data-cookie-time"))return;let o=c.dataset.cookieTime;e("promo_banner","1",{"max-age":24*o*60*60})})(),c.remove(),c=null,s&&(s.remove(),s=null)}),s&&function(){const e=i({toggleSelector:o.productsPopupToggle});let t=!1;e.init(),window.themeCore.EventBus.listen("Toggle:promotion-products-popup-toggle:open",function(){t||(s.classList.add("is-loaded-once"),t=!0)}),window.themeCore.EventBus.listen("Quick-view:close",function(){const t=document.getElementById("CartDrawer"),r=document.querySelector(o.cartNotification);t&&c&&!t.classList.contains(n.active)&&c.classList.contains(n.active)&&setTimeout(()=>{r&&r.classList.contains(n.active)||e.open(s)},800)})}()}})};const t=()=>{window.themeCore.ProductPromoBanner=window.themeCore.ProductPromoBanner||e(),window.themeCore.utils.register(window.themeCore.ProductPromoBanner,"product-promo-banner")};window.themeCore&&window.themeCore.loaded?t():document.addEventListener("theme:all:loaded",t,{once:!0})}();