!function(){"use strict";var e=e=>{let t;const o=window.themeCore.utils.VIDEO_TYPES,i=window.themeCore.utils.cssClasses,a=window.matchMedia("(max-width: 767px)"),n={iframe:"iframe",videoContainer:".js-video-section",startButton:".js-video-start-button",videoPlaceholder:".js-video-placeholder",mobileVideoPlayer:"video__player--mobile"},r={videoContainer:e,options:{youtube:{autoplay:0,controls:1,showinfo:0,rel:0,playsinline:1,loop:0},vimeo:{controls:!0,loop:!1,muted:!0,portrait:!1,title:!1,keyboard:!1,byline:!1,autopause:!1}}};let d;const s=e.querySelector(n.startButton),c=e.querySelector(n.videoPlaceholder);function l(e,t){switch(t){case o.html:case o.vimeo:e.play();break;case o.youtube:e.mute(),e.playVideo();break;default:return}}function u(t){e.classList.add(i.active),s.classList.add("hide"),c.classList.add("hide"),t.videoWrapper.classList.add(i.active),window.innerWidth>=768&&"desktop"===t.device&&l(t.player,t.type),window.innerWidth<768&&"mobile"===t.device&&l(t.player,t.type)}return Object.freeze({init:async function(){t=await window.themeCore.utils.getExternalUtil("Video"),(d=function(e){return t(e).init()}(r))&&d.length&&d.forEach(t=>(function(e,t){e.addEventListener("click",e=>{(e.target.closest(n.startButton)||e.target.closest(n.videoPlaceholder))&&u(t)}),a.addEventListener("change",()=>{"html"===t.type&&("mobile"!==t.device||a.matches||t.player.pause(),"desktop"===t.device&&a.matches&&t.player.pause()),"vimeo"===t.type&&("mobile"!==t.device||a.matches||t.player.pause(),"desktop"===t.device&&a.matches&&t.player.pause()),"youtube"===t.type&&("mobile"!==t.device||a.matches||t.player.pauseVideo(),"desktop"===t.device&&a.matches&&t.player.pauseVideo())})})(e,t))}})};const t={section:".js-video-section",videoContainer:".js-video-container"};const o=()=>{window.themeCore.VideoSectionPlayer=window.themeCore.VideoSectionPlayer||(()=>{let o=[],i={};return Object.freeze({init:function(a){var n,r;o=[...document.querySelectorAll(t.section)].filter(e=>!a||e.closest(`#shopify-section-${a}`)),i={Video:(n=e,r=t.videoContainer,o.filter(e=>e.querySelector(r)).map(e=>{const t=e.querySelector(r);return n(t)}))};for(const e in i)i[e].forEach(e=>e.init())}})})(),window.themeCore.utils.register(window.themeCore.VideoSectionPlayer,"video")};window.themeCore&&window.themeCore.loaded?o():document.addEventListener("theme:all:loaded",o,{once:!0})}();