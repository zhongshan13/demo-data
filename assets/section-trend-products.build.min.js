!function(){"use strict";const e={section:".js-trend-products-section",hotSpot:".js-trend-products-spot",productPopup:".js-trend-product-popup",slider:".js-trend-products-slider",sliderPagination:".js-trend-products-slider-pagination"},t=window.matchMedia("(max-width: 767.98px)");var s=()=>{const s=window.themeCore.utils.cssClasses,o=window.themeCore.utils.Swiper;let n=[];function r(t){const o=t.target.closest(e.hotSpot),n=[...t.target.closest(e.section).querySelectorAll(e.hotSpot)].filter(e=>e.classList.contains(s.active));if(o){const t=o.getAttribute("data-target"),r=document.getElementById(t);if(!t||!r)return;n.length&&n.forEach(function(e){if(o===e)return;const t=e.getAttribute("data-target"),n=document.getElementById(t);n.classList.remove(s.active),n.classList.remove("need-animate"),e.classList.remove(s.active),e.setAttribute("aria-expanded","false")}),o.classList.toggle(s.active);let i=o.classList.contains(s.active);r.classList.toggle(s.active),i?(o.setAttribute("aria-expanded","true"),document.addEventListener("click",function t(o){const n=o.target.closest(e.hotSpot)||o.target.closest(e.productPopup);if(n)return;let r=document.querySelectorAll(e.hotSpot);let i=document.querySelectorAll(e.productPopup);if(!r||!i)return;r.forEach(function(e){e.classList.remove(s.active),e.setAttribute("aria-expanded","false")});i.forEach(function(e){e.classList.remove(s.active),e.classList.remove("need-animate")});document.removeEventListener("click",t)})):(o.setAttribute("aria-expanded","false"),r.classList.remove("need-animate"))}}return Object.freeze({init:function(s){(n=[...document.querySelectorAll(e.section)].filter(e=>!s||e.closest(`#shopify-section-${s}`))).forEach(e=>e.addEventListener("click",r)),n.forEach(s=>{let n=s.querySelector(e.slider);n&&function(s){let n,r={slidesPerView:1,watchSlidesProgress:!0,spaceBetween:s.closest(".trend-products-new")?10:0,pagination:{el:e.sliderPagination,clickable:!0,bulletElement:"button"}};t.matches&&(n=new o(s,r)),t.addEventListener("change",function(e){e.matches?n=new o(s,r):(n.destroy(),s.classList.remove("swiper-backface-hidden"))})}(n)})}})};const o=()=>{window.themeCore.TrendProducts=window.themeCore.TrendProducts||s(),window.themeCore.utils.register(window.themeCore.TrendProducts,"trends-products")};window.themeCore&&window.themeCore.loaded?o():document.addEventListener("theme:all:loaded",o,{once:!0})}();