!function(){"use strict";const t={cartReminder:"cart-reminder",cartReminderNew:"cart-reminder-new",closeButton:"cart-reminder__close-button",content:"cart-reminder__content",text:"cart-reminder__text",outline:"focus-visible-outline"};var e=e=>{const n=window.themeCore.utils.setCookie,r=window.themeCore.utils.getCookie,i=window.themeCore.utils.cssClasses,o=window.themeCore.utils.deleteCookie,a=window.themeCore.utils.on,c=document.querySelector("body"),d=c.classList.contains(i.designAlternate);let s,l=null,m=null,w=60*e.cookieTime*1e3;s="one_time"===e.displayFrequency?864e5:w;let u=(new Date).setTime((new Date).getTime()+w),C=(new Date).setTime((new Date).getTime()+s);const h={CART_TYPE_DRAWER:"drawer"};function $(){C=(new Date).setTime((new Date).getTime()+s),n("cart_reminder_closed","1",{expires:new Date(C)})}function _(){l&&l.remove()}return Object.freeze({init:function(){window.themeCore.CartApi.makeRequest(window.themeCore.CartApi.actions.GET_CART,{noOpen:!0}),window.themeCore.EventBus.listen("cart:updated",i=>{r("cart_reminder_closed")||function(i){i.item_count>0?(r("cart_reminder")||(u=(new Date).setTime((new Date).getTime()+w),n("cart_reminder",u,{expires:new Date(u)})),(m=r("cart_reminder")?+r("cart_reminder")-(new Date).getTime():null)&&setTimeout(()=>{l&&_(),c.insertAdjacentHTML("afterbegin",function(){const n=e.cartType===h.CART_TYPE_DRAWER?`\n\t\t\t<button\n\t\t\t\ttype="button"\n\t\t\t\tclass="${t.content} ${t.outline}"\n\t\t\t\tdata-target="CartDrawer"\n\t\t\t\tdata-js-toggle="CartDrawer"\n\t\t\t\taria-expanded="false"\n\t\t\t\taria-controls="CartDrawer"\n\t\t\t\taria-label="${e.cartButtonA11y}"\n\t\t\t>\n\t\t\t\t<span class="${t.text} ${d?"h4":""}">\n\t\t\t\t\t${e.text}\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t`:`\n\t\t\t<a\n\t\t\t\thref="${e.cartRoute}"\n\t\t\t\tclass="${t.content} ${t.outline}"\n\t\t\t\taria-label="${e.cartLinkA11y}"\n\t\t\t>\n\t\t\t\t<span class="${t.text} ${d?"h4":""}">\n\t\t\t\t\t${e.text}\n\t\t\t\t</span>\n\t\t\t</a>\n\t\t`;return`\n\t\t\t<div\n\t\t\t\tclass="${d?t.cartReminderNew:t.cartReminder}"\n\t\t\t\tstyle="\n\t\t\t\t\t--cart-reminder-color-text: ${e.colorText};\n\t\t\t\t\t--cart-reminder-color-bg: ${e.colorBg};\n\t\t\t\t"\n\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\tclass="${t.closeButton} ${t.outline}"\n\t\t\t\t\taria-label="${e.closeButtonA11y}"\n\t\t\t\t\ttype="button"\n\t\t\t\t\tdata-cart-reminder-close\n\t\t\t\t>\n\t\t\t\t\t<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\n\t\t\t\t${n}\n\t\t\t</div>\n\t\t`}()),window.themeCore.EventBus.emit("cart-reminder:added")},m)):(o("cart_reminder"),_())}(i)}),window.themeCore.EventBus.listen("cart-reminder:added",()=>{if(!(l=document.querySelector(`.${d?t.cartReminderNew:t.cartReminder}`)))return;let e=l.querySelector(`.${t.closeButton}`),n=l.querySelector(`.${t.content}`);a("click",n,()=>{window.themeCore.EventBus.emit("cart:drawer:open"),$(),_()}),a("click",e,()=>{$(),_()})})}})};const n=()=>{window.themeCore&&window.themeCore.CartReminder&&!window.themeCore.CartReminder.initiated&&(e(window.themeCore.CartReminder.config).init(),window.themeCore.CartReminder.initiated=!0)};window.themeCore&&window.themeCore.loaded?n():document.addEventListener("theme:all:loaded",n,{once:!0})}();