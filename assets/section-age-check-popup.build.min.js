!function(){"use strict";const e={ageCheckPopup:"age-check-popup",ageCheckPopupToggle:"AgeCheckPopupToggle",confirmButton:".js-age-check-popup-confirm"};var o=()=>{const o=window.themeCore.utils.Toggle,t=window.themeCore.utils.on,n=window.themeCore.utils.setCookie,c=window.themeCore.utils.getCookie;let i,u,p,r;return Object.freeze({init:function(){(i=document.getElementById(e.ageCheckPopup))&&(u=i.getAttribute("data-redirect-url"),c("age_check_popup")||(p=o({toggleSelector:e.ageCheckPopupToggle}),window.themeCore.ageCheckPopupOpen=!0,p.init(),document.body.classList.add("blur-content"),p.open(i),t("click",i,function(e){e.target==this&&p.close(i)}),window.themeCore.EventBus.listen(`Toggle:${e.ageCheckPopupToggle}:close`,()=>{r||(window.location.href=u)}),t("keyup",e=>{27===e.keyCode&&(r||(window.location.href=u))})),function(){const o=document.querySelector(e.confirmButton);o&&o.addEventListener("click",function(){!function(){if(!i.hasAttribute("data-cookie-time"))return;let e=i.dataset.cookieTime;n("age_check_popup","1",{"max-age":24*e*60*60})}(),document.body.classList.remove("blur-content"),r=!0,p.close(i),window.themeCore.ageCheckPopupOpen=!1,window.themeCore.EventBus.emit("create:newsletter:popup")})}())}})};const t=()=>{window.themeCore.AgeCheckPopup=window.themeCore.AgeCheckPopup||o(),window.themeCore.utils.register(window.themeCore.AgeCheckPopup,"age-check-popup")};window.themeCore&&window.themeCore.loaded?t():document.addEventListener("theme:all:loaded",t,{once:!0})}();