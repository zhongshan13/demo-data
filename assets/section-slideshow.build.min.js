!function(){"use strict";const e={iframe:"iframe"};function t(t){const i=window.themeCore.utils.VIDEO_TYPES;t.filter(e=>e.type===i.vimeo).forEach(t=>t.player.on("loaded",()=>(function(t){const i=t.querySelector(e.iframe);if(!i)return;i.setAttribute("tabindex","-1")})(t.videoWrapper)))}function i(e,t){const i=window.themeCore.utils.VIDEO_TYPES;switch(t){case i.html:case i.vimeo:e.play();break;case i.youtube:e.mute(),e.playVideo();break;default:return}}function o(e,t){const i=window.themeCore.utils.VIDEO_TYPES;switch(t){case i.html:case i.vimeo:e.pause();break;case i.youtube:e.pauseVideo();break;default:return}}var r=e=>{const r={videoContainer:e,options:{youtube:{autoplay:0,controls:0,showinfo:0,rel:0,playsinline:1,loop:1},vimeo:{controls:!1,loop:!0,muted:!0,portrait:!1,title:!1,keyboard:!1,byline:!1,autopause:!1}}};return Object.freeze({init:async function(){const e=await async function(e){return(await window.themeCore.utils.getExternalUtil("Video"))(e).init()}(r);if(e&&e.length)return t(e),e},playVideo:i,pauseVideo:o})},s=async e=>{const t=window.themeCore.utils.Swiper,i=window.themeCore.utils.swiperA11y,o=window.themeCore.utils.swiperPagination,s=await window.themeCore.utils.getExternalUtil("swiperAutoplay"),n=await window.themeCore.utils.getExternalUtil("swiperParallax"),a=await window.themeCore.utils.getExternalUtil("swiperEffectFade"),l=await window.themeCore.utils.getExternalUtil("swiperEffectFlip"),d=await window.themeCore.utils.getExternalUtil("swiperEffectCreative"),c=window.themeCore.utils.cssClasses;t.use([o,s,n,a,l,d,i]);const u={slider:".js-slider",slide:".swiper-slide",activeSlide:".swiper-slide-active",sliderSettings:".js-slider-settings",progressbar:".js-progressbar",progressbarFirstLabel:".js-progress-first-label",video:".js-video",videoPosterDesktop:".js-video-poster-desktop",videoPosterMobile:".js-video-poster-mobile",playButton:".js-video-button-play",pauseButton:".js-video-button-pause",showButtons:"[data-show-button=true]",currentVideo:".swiper-slide.swiper-slide-active .js-video, .js-slider:not(.swiper) .js-video",button:".js-button",iframe:"iframe",currentVimeoVideo:".swiper-slide.swiper-slide-active .js-video.js-video-vimeo, .js-slider:not(.swiper) .js-video.js-video-vimeo"},p={active:"is-active",swiperSlideActive:"swiper-slide-active"},w=window.matchMedia("(max-width: 767px)"),y=e.querySelector(u.slider),h=e.querySelector(u.sliderSettings),v=e.querySelector(u.pauseButton),f=e.querySelector(u.playButton),m=await r(e).playVideo,g=await r(e).pauseVideo;let S,b,E,C,L;async function q(){if(!(E=function(){try{return JSON.parse(h.textContent)}catch{return null}}()))return;b=new t(y,{...E,autoplay:!1});const i=e.querySelector(u.progressbar),o=e.querySelector(u.progressbarFirstLabel);let s=i&&i.animate([{width:"0%"},{width:"100%"}],{fill:"forwards",easing:"linear",duration:E.autoplay.delay+E.speed});const n=e.querySelector(u.activeSlide);n&&$(n);let a=await r(e).init();a&&a.length&&(w.addEventListener("change",()=>{I(a)}),I(a),e.addEventListener("click",e=>P(e,a)),b.on("slidesLengthChange",async function(){a=await r(e).init()}),window.addEventListener("resize",k)),b.on("slideChange",function(t){if(window.themeCore.LazyLoadImages.init(),$(e.querySelector(`${u.slide}:nth-child(${t.activeIndex+1}`)),!a||!a.length)return;const i=[...e.querySelectorAll(`${u.slide}:nth-child(${t.activeIndex+1}) ${u.video}`)].filter(e=>"none"!==getComputedStyle(e).getPropertyValue("display"));A(!!e.querySelector(`${u.slide}:nth-child(${t.activeIndex+1}) ${u.showButtons}`),i),j(a,i),i&&i.length&&i.forEach(e=>{if(!e.dataset.vimeoInitialized)return;const t=e.querySelector(u.iframe);t&&T(t)});const o=t.slides,r=t.activeIndex;t.el.dataset.currentSlideType=o[r].dataset.type}),E&&E.autoplay&&E.autoplay.delay&&(B(),s&&s.play(),b.on("slideChangeTransitionEnd",()=>{B(),s&&(s.currentTime=0,s.play())})),o&&(!L&&i||L&&(b.navigation.nextEl||b.navigation.prevEl))&&b.on("realIndexChange",e=>{o.innerText=function(e){if(e>9)return e;return"0"+e}(e.realIndex+1)})}function j(e,t,i){const o=w.matches?u.videoPosterMobile:u.videoPosterDesktop;e&&e.forEach(e=>{let r=t.some(t=>e.videoWrapper===t&&(JSON.parse(t.dataset.autoplay)||i));t&&t.length&&r?t.forEach(t=>{if(e.videoWrapper===t&&(JSON.parse(t.dataset.autoplay)||i)){const i=t.closest(u.slide).querySelector(o);m(e.player,e.type),i&&setTimeout(()=>i.remove(),200)}}):g(e.player,e.type)})}function x(t,i){j(t,[...e.querySelectorAll(u.currentVideo)].filter(e=>"none"!==getComputedStyle(e).getPropertyValue("display")),i)}async function V(){let t=await r(e).init();const i=!!e.querySelector(`${u.showButtons}`),o=[...e.querySelectorAll(`${u.video}`)].filter(e=>"none"!==getComputedStyle(e).getPropertyValue("display"));A(i,o),e.addEventListener("click",e=>P(e,t)),x(t),window.addEventListener("resize",k),w.addEventListener("change",()=>{x(t),A(i,o)})}function A(t,i){if((i=i||[...e.querySelectorAll(u.currentVideo)].filter(e=>"none"!==getComputedStyle(e).getPropertyValue("display")))&&i.length&&!JSON.parse(i[0].dataset.autoplay))return v.classList.remove(p.active),t?void f.classList.add(p.active):void f.classList.remove(p.active);f.classList.remove(p.active),t?v.classList.add(p.active):v.classList.remove(p.active)}function P(e,t){if(e.target.closest(u.pauseButton))return v.classList.remove(p.active),f.classList.add(p.active),void function(e){e.forEach(e=>{g(e.player,e.type)})}(t);e.target.closest(u.playButton)&&(v.classList.add(p.active),f.classList.remove(p.active),x(t,!0))}function I(t){A(!!e.querySelector(`${u.slide}${u.activeSlide} ${u.showButtons}`)),x(t)}function $(t){[...e.querySelectorAll(u.slide)].forEach(e=>{const i=e.querySelectorAll(u.button);i.length&&(e!==t?i.forEach(e=>e.setAttribute("tabindex",-1)):i.forEach(e=>e.setAttribute("tabindex",0)))})}function O(t){new IntersectionObserver((i,o)=>{i.forEach(i=>{i.isIntersecting&&(t(),o.unobserve(e))})},{threshold:.3}).observe(e),new MutationObserver(e=>{e.forEach(e=>{e.target.dataset.vimeoInitialized&&k()})}).observe(e,{attributes:!0,childList:!0,subtree:!0})}function T(e){e&&setTimeout(()=>{const t=e.width,i=e.height,o=e.parentElement,r=t&&i?t/i:16/9,s=o.offsetWidth,n=o.offsetHeight;let a,l,d;d=s/r<n?n/(l=s/r):s/(a=n*r),e.style.setProperty("--scale",d)},1)}function k(){const t=[...e.querySelectorAll(u.currentVimeoVideo)].filter(e=>"none"!==getComputedStyle(e).getPropertyValue("display"));t.length&&t.forEach(e=>{const t=e.querySelector(u.iframe);t&&T(t)})}function B(){clearTimeout(S),S=setTimeout(()=>{b.slideNext(E.speed)},E.autoplay.delay)}return y&&(C=[...y.querySelectorAll(u.slide)]),Object.freeze({init:function(){L=document.body.classList.contains(c.designAlternate),y&&h?O(q):(C&&1===C.length&&C[0].classList.add(p.swiperSlideActive),O(V))}})};const n={section:".js-slideshow",videoContainer:".js-videos"};const a=()=>{window.themeCore.Slideshow=window.themeCore.Slideshow||(()=>{return Object.freeze({init:async function(e){[...document.querySelectorAll(n.section)].filter(t=>!e||t.closest(`#shopify-section-${e}`)).forEach(async e=>{(await s(e)).init()})}})})(),window.themeCore.utils.register(window.themeCore.Slideshow,"slideshow")};window.themeCore&&window.themeCore.loaded?a():document.addEventListener("theme:all:loaded",a,{once:!0})}();