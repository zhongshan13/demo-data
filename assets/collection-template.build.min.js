!function(){"use strict";var e=()=>{const e={section:".js-collection",gridViewButton:".js-grid-view-btn",grid:".js-grid-wrapper"};return Object.freeze({init:async function(){const t=await window.themeCore.utils.getExternalUtil("ProductFilters"),o=document.querySelector(e.section),i=document.querySelectorAll(e.gridViewButton);t(o).init(),i.length>0&&function(t){const o=document.querySelector(e.grid),i=localStorage.getItem("collection-grid-cols"),c=document.querySelector(".js-grid-view-buttons"),l=document.querySelector('.js-grid-view-btn[data-grid-cols="4"]');if(i){const e=document.querySelector(`.js-grid-view-btn[data-grid-cols="${i}"]`);o.setAttribute("data-grid-col",i),l.classList.remove("is-active"),e.classList.add("is-active")}o.classList.remove("collection__grid-wrapper-hide-on-load"),c.classList.add("animated"),t.forEach(function(e){e.addEventListener("click",function(){const i=e.getAttribute("data-grid-cols");if(e.classList.contains("is-active"))return;const c=[...t].find(e=>e.classList.contains("is-active")),l=e;c.classList.remove("is-active"),l.classList.add("is-active"),o.setAttribute("data-grid-col",i),"3"===i?localStorage.setItem("collection-grid-cols",i):"2"===i?localStorage.setItem("collection-grid-cols",i):localStorage.removeItem("collection-grid-cols")})})}(i)}})};const t=()=>{window.themeCore.CollectionTemplate=window.themeCore.CollectionTemplate||e(),window.themeCore.utils.register(window.themeCore.CollectionTemplate,"collection-template")};window.themeCore&&window.themeCore.loaded?t():document.addEventListener("theme:all:loaded",t,{once:!0})}();